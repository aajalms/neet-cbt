/* =========================
   GLOBAL
========================= */
*{ box-sizing:border-box; font-family: Arial, sans-serif; }
:root{
  --navy:#003366;
  --navy2:#002244;
  --bg:#eef2f7;
  --card:#ffffff;
  --line:#d6dde7;
}

/* =========================
   LOGIN PAGE (scoped)
   ✅ Centered on desktop
   ✅ Mobile keeps top spacing
========================= */
body.login-page{
  margin:0;
  min-height:100vh;
  background: linear-gradient(135deg, #dfe9f3, #ffffff);
  display:flex;
  justify-content:center;
  align-items:center;
  padding:18px;

  /* extra desktop centering safety */
  width:100%;
}

.login-container{
  background:#fff;
  width:100%;
  max-width:420px;              /* better than min() for wider support */
  padding:32px 26px;
  border-radius:12px;
  box-shadow:0 10px 28px rgba(0,0,0,0.10);
  text-align:center;
  margin:0 auto;                /* extra safety */
}

.logo{ width:80px; height:auto; margin-bottom:10px; }

.inst-name{
  margin:6px 0 2px;
  font-size:18px;
  color:var(--navy);
  font-weight:800;
  letter-spacing:.8px;
}

.title{
  margin:10px 0 18px;
  font-size:20px;
  font-weight:700;
  color:#111;
}

.form input{
  width:100%;
  padding:12px;
  margin-bottom:12px;
  border-radius:8px;
  border:1px solid #cfcfcf;
  font-size:15px;
  transition:.25s;
  background:#fff;
}
.form input:focus{
  border-color:var(--navy);
  outline:none;
  box-shadow:0 0 0 3px rgba(0,51,102,.15);
}

.password-box{ position:relative; }
.password-box .toggle{
  position:absolute;
  right:12px;
  top:50%;
  transform:translateY(-50%);
  cursor:pointer;
  user-select:none;
}

/* ✅ IMPORTANT: scope login button only to login page */
body.login-page button{
  width:100%;
  padding:12px;
  background:var(--navy);
  color:#fff;
  border:none;
  border-radius:8px;
  font-size:15px;
  font-weight:800;
  cursor:pointer;
  transition:.2s;
}
body.login-page button:hover{ background:var(--navy2); }

#msg{ margin-top:10px; font-size:13px; color:#c62828; }

/* Mobile login */
@media (max-width:480px){
  body.login-page{ align-items:flex-start; padding:14px; }
  .login-container{ margin-top:18px; padding:22px 16px; }
  .logo{ width:64px; }
  .inst-name{ font-size:16px; letter-spacing:.5px; }
  .title{ font-size:16px; }
  .form input{ font-size:16px; } /* prevent iPhone zoom */
  body.login-page button{ font-size:16px; }
}

/* =========================
   EXAM PAGE (scoped) - LIKE 2ND IMAGE
========================= */
body.exam-page{
  margin:0;
  background:var(--bg);
}

/* Top bar */
.topbar{
  background:var(--navy);
  color:#fff;
  padding:10px 16px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}

.brand{
  font-weight:800;
  letter-spacing:.3px;
}

.meta{
  font-size:14px;
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  align-items:center;
}
.meta .sep{ opacity:.6; }

/* Layout */
.container{
  display:flex;
  gap:16px;
  padding:14px;
  align-items:flex-start;
}

.main{
  flex: 1 1 auto;
  background:var(--card);
  border:1px solid var(--line);
  border-radius:8px;
  padding:14px;
}

.palette{
  width: 330px;
  background: #f7f9fc;
  border:1px solid var(--line);
  border-radius:8px;
  padding:14px;
  position: sticky;
  top: 12px;
  max-height: calc(100vh - 90px);
  overflow:auto;
}

.palette h3{
  margin:0 0 10px;
  font-size:18px;
}

/* Question heading / text */
.qhead h2{
  margin:0 0 8px;
  font-size:18px;
}
.qtext{
  background:#f2f5f9;
  border:1px solid var(--line);
  padding:10px;
  border-radius:6px;
  font-size:14px;
  line-height:1.4;

  /* keep line breaks from JS textContent + \n */
  white-space:pre-wrap;
}

/* Question image */
#qImgWrap img{
  max-width:100%;
  border-radius:6px;
  border:1px solid var(--line);
  margin:12px 0;
  cursor:zoom-in;
}

/* Options */
.opts{ margin-top:10px; }
.opts label{
  display:flex;
  gap:10px;
  align-items:flex-start;
  padding:10px;
  border:1px solid var(--line);
  border-radius:6px;
  margin-bottom:10px;
  background:#fff;
  cursor:pointer;
}
.opts label:hover{
  border-color:#b6c4d6;
  background:#fbfdff;
}
.opts input[type="radio"]{ margin-top:3px; }

/* Controls row */
.controls{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  margin-top:10px;
}
.submitRow{ margin-top:12px; }

/* Buttons (exam) */
.btn{
  width:auto;
  padding:10px 14px;
  border-radius:6px;
  border:none;
  cursor:pointer;
  font-weight:700;
}
.btn.small{ padding:8px 10px; font-size:13px; }
.btn.navy{ background:var(--navy); color:#fff; }
.btn.gray{ background:#607d8b; color:#fff; }
.btn.amber{ background:#f1c40f; color:#111; }
.btn.danger{ background:#b00020; color:#fff; }

.btn:disabled{
  opacity:.6;
  cursor:not-allowed;
}

/* =========================
   ✅ PALETTE COLORS FIX (IMPORTANT)
   JS creates: className = "pbtn unanswered/answered/review/ansreview"
   So we style BOTH:
   - .pal button.unanswered (your current)
   - .pbtn.unanswered (extra safety)
========================= */
.pal{
  display:grid;
  grid-template-columns: repeat(6, 1fr);
  gap:10px;
}

/* base */
.pal button{
  width:100%;
  height:42px;
  border-radius:8px;
  border:1px solid #c9d4e3;
  font-weight:800;
  cursor:pointer;
  background:#cfd8dc; /* default */
  color:#111;
}

/* ✅ status colors (button has classes: pbtn + status) */
.pal button.unanswered,
.pbtn.unanswered{ background:#cfd8dc; color:#111; }

.pal button.answered,
.pbtn.answered{ background:#2e7d32; color:#fff; }

.pal button.review,
.pbtn.review{ background:#6a1b9a; color:#fff; }

.pal button.ansreview,
.pbtn.ansreview{ background:#1565c0; color:#fff; }

/* Current question highlight (button gets class "current") */
.pal button.current,
.pbtn.current{
  outline:3px solid #111;
  background:#fff;
  color:#111;
}

/* Legend */
.legend{
  margin-top:12px;
  font-size:13px;
  display:grid;
  gap:8px;
}
.dot{
  width:12px; height:12px;
  border-radius:3px;
  display:inline-block;
  margin-right:8px;
  vertical-align:middle;
  border:1px solid rgba(0,0,0,0.1);
}
.dot.unanswered{ background:#cfd8dc; }
.dot.answered{ background:#2e7d32; }
.dot.review{ background:#6a1b9a; }
.dot.ansreview{ background:#1565c0; }

/* =========================
   IMAGE MODAL
========================= */
.img-modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
.img-modal[aria-hidden="false"]{ display:flex; }
/* extra safety */
.img-modal.show{ display:flex; }

.img-modal-box{
  width:min(900px, 92vw);
  max-height: 90vh;
  background:#fff;
  border-radius:10px;
  overflow:hidden;
  box-shadow:0 20px 60px rgba(0,0,0,0.35);
}
.img-modal-top{
  display:flex;
  justify-content:flex-end;
  gap:10px;
  padding:10px;
  background:#f2f5f9;
  border-bottom:1px solid var(--line);
}
#imgModalPic{
  width:100%;
  height:auto;
  display:block;
}

/* =========================
   OPTIONAL: Proctor blur overlay (only used if JS adds class)
========================= */
.proctor-blur{
  filter: blur(4px);
}

/* =========================
   MOBILE EXAM
========================= */
@media (max-width: 900px){
  .container{ flex-direction:column; }
  .palette{
    position: static;
    width:100%;
    max-height:none;
  }
  .pal{ grid-template-columns: repeat(5, 1fr); }
}

@media (max-width: 480px){
  .topbar{ flex-direction:column; align-items:flex-start; }
  .meta{ font-size:12px; }
  .pal{ grid-template-columns: repeat(4, 1fr); }
}
